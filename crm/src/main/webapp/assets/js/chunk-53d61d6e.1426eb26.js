(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53d61d6e","chunk-39d870fe"],{"04ea":function(e,t,o){"use strict";var s=o("ac0b"),r=o.n(s);r.a},"5a4d":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"protocal"},[s("div",{staticClass:"m-header "},[s("div",{staticClass:"back",on:{click:e.goBack}},[s("img",{attrs:{src:o("c9ac"),alt:""}})]),s("div",{staticClass:"title"},[e._v("会员注册协议")])]),s("div",{staticClass:"content",domProps:{innerHTML:e._s(e.content)}})])},r=[],i={name:"registerProtocal",props:{content:{type:String,default:""}},mounted:function(){document.title="会员注册协议_37度C健康保险网"},methods:{goBack:function(){this.$emit("goBack")}}},n=i,a=(o("04ea"),o("17cc")),d=Object(a["a"])(n,s,r,!1,null,null,null);t["default"]=d.exports},ac0b:function(e,t,o){},b3d5:function(e,t,o){},dcd1:function(e,t,o){"use strict";var s=o("b3d5"),r=o.n(s);r.a},ea78:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"register-container"},[e.succeedShow?e._e():o("form",{staticClass:"comForm",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[o("div",{staticClass:"input-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sendForm.idNum,expression:"sendForm.idNum",modifiers:{trim:!0}}],class:e.errorIdNum?"active":"",attrs:{type:"text",placeholder:"身份证号"},domProps:{value:e.sendForm.idNum},on:{focus:function(t){return e.focus(t,"idNum")},blur:[function(t){return e.blur(t,"idNum")},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.sendForm,"idNum",t.target.value.trim())}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e.sendForm.idNum,expression:"sendForm.idNum"}],staticClass:"del",style:e.delImg,on:{mousedown:function(t){return t.stopPropagation(),e.del("idNum")}}}),o("span",{staticClass:"error"},[e._v(e._s(e.errorIdNum))])]),o("div",{staticClass:"input-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sendForm.queryName,expression:"sendForm.queryName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:e.sendForm.queryName},on:{focus:function(t){return e.focus(t)},blur:[function(t){return e.blur(t)},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.sendForm,"queryName",t.target.value.trim())}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e.sendForm.queryName,expression:"sendForm.queryName"}],staticClass:"del",style:e.delImg,on:{mousedown:function(t){return t.stopPropagation(),e.del("queryName")}}})]),o("div",{staticClass:"input-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sendForm.queryMobile,expression:"sendForm.queryMobile",modifiers:{trim:!0}}],class:e.errorMobile?"active":"",attrs:{type:"text",placeholder:"手机号"},domProps:{value:e.sendForm.queryMobile},on:{focus:function(t){return e.focus(t,"mobile")},blur:[function(t){return e.blur(t,"mobile")},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.sendForm,"queryMobile",t.target.value.trim())}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e.sendForm.queryMobile,expression:"sendForm.queryMobile"}],staticClass:"del",style:e.delImg,on:{mousedown:function(t){return t.stopPropagation(),e.del("queryMobile")}}}),o("span",{staticClass:"error"},[e._v(e._s(e.errorMobile))])]),o("div",{staticClass:"input-wrapper msgcode-wrapper clearfix"},[o("div",{staticClass:"msgCode-layer",class:e.errorMsgCode?"errorMsgCode":""},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sendForm.msgCode,expression:"sendForm.msgCode",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.sendForm.msgCode},on:{focus:function(t){return e.focus(t,"msgCode")},blur:[function(t){return e.blur(t,"msgCode")},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.sendForm,"msgCode",t.target.value.trim())}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e.sendForm.msgCode,expression:"sendForm.msgCode"}],staticClass:"del",style:e.delImg,on:{mousedown:function(t){return t.stopPropagation(),e.del("msgCode")}}}),e.isMessageCode?o("span",{staticClass:"aboutcode sendcode"},[e._v(e._s(e.second)+"s重发")]):o("span",{staticClass:"aboutcode",on:{click:function(t){return e.getMessageCode()}}},[e._v("发送验证码")]),o("span",{staticClass:"error"},[e._v(e._s(e.errorMsgCode))])])]),o("div",{staticClass:"submit-wrapper"},[o("p",{staticClass:"register-tip"},[e._v("注册即视为同意"),o("span",{on:{click:e.showProtocal}},[e._v("《会员注册协议》")])]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.errorTips,expression:"errorTips"}],staticClass:"error-tips"},[e._v(e._s(e.errorTips))]),o("input",{staticClass:"submit",class:e.allValid?"active":"",attrs:{type:"submit",value:"注册",disabled:!e.allValid}})]),o("div",{staticClass:"go-login-tips"},[e._v("\n      已有账号，马上\n      "),o("router-link",{staticClass:"register-btn",attrs:{tag:"span",to:"/smsLogin"}},[o("span",[e._v("登录")])])],1),e.imgCodeShow?o("img-code",{attrs:{absTop:311,absLeft:90},on:{hanleClose:e.hanleImgCodeClose}},[o("div",{staticClass:"imgcode-content"},[o("div",{staticClass:"input-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sendForm.queryImgCode,expression:"sendForm.queryImgCode",modifiers:{trim:!0}}],staticClass:"input-imgcode",attrs:{type:"text",placeholder:"请输入图形验证码"},domProps:{value:e.sendForm.queryImgCode},on:{focus:function(t){return e.focus(t,"imgCode")},blur:[function(t){return e.blur(t,"imgCode")},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.sendForm,"queryImgCode",t.target.value.trim())}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e.sendForm.queryImgCode,expression:"sendForm.queryImgCode"}],staticClass:"del",style:e.delImg,on:{mousedown:function(t){return t.stopPropagation(),e.del("queryImgCode")}}}),o("img",{ref:"imgCode",staticClass:"imgcode",attrs:{src:e.imgCodeSrc,alt:"图形验证码"},on:{click:e.refreshImgcode}}),o("span",{staticClass:"error"},[e._v(e._s(e.errorImgCode))])]),o("input",{staticClass:"imgcode-btn",class:e.sendForm.queryImgCode.length>=4?"active":"",attrs:{type:"button",value:"确定",disabled:e.sendForm.queryImgCode.length<4},on:{click:e.validImgcode}})])]):e._e()],1),e.protocalShow?o("protocal",{attrs:{content:e.protocalCon},on:{goBack:e.hanldProtocalBack}}):e._e()],1)},r=[],i=(o("e0c1"),o("93fe"),o("8e61")),n=o("4778"),a=o("197b"),d=o("e04d"),c=o("5a4d"),u=o("acce"),m=o("52c1"),l=o("f524"),p={name:"login",mixins:[u["a"]],data:function(){return{imgCodeSrc:"",succeedShow:!1,second:60,sendForm:{idNum:"",queryName:"",queryMobile:"",queryImgCode:"",msgCode:""},protocalShow:!1,protocalCon:"",wHeight:""}},mounted:function(){this._isCountDown(),this.getProtocalCon(),this.wHeight=document.documentElement.clientHeight||document.body.clientHeight},methods:Object(i["a"])({submit:function(){var e=this,t={idNum:this.sendForm.idNum,mobile:this.sendForm.queryMobile,name:this.sendForm.queryName,captchaId:this.sendForm.msgCode,hiddenCaptcha:this.uuid};this.$api.user.register(t).then(function(t){1===t.code?(e.SET_TOKEN(t.data.csrfToken),e.SET_USER_INFO(t.data.member),e.$router.push({path:"/registerSucceed"})):t.message.includes("短信验证码错误")?e.errorMsgCode=t.message:e.errorTips=t.message})},getMessageCode:function(){this.errorMobile||(this.sendForm.queryMobile?(this.imgCodeShow=!0,this.refreshImgcode(),this.sendForm.queryImgCode=""):this.errorMobile=a["b"].notNull)},validImgcode:function(){var e=this,t={code:this.sendForm.queryImgCode};this.$api.user.registerValidImgcode(t).then(function(t){1===t.code?(e.imgCodeShow=!1,e.sendCaptchaSms()):(e.refreshImgcode(),e.sendForm.queryImgCode="",e.errorImgCode=t.message)})},refreshImgcode:function(){var e=Math.random();this.imgCodeSrc="".concat("http://8hwppb.natappfree.cc","/member/register/captcha?v=").concat(e)},sendCaptchaSms:function(){var e=this,t={idNum:this.sendForm.idNum,mobile:this.sendForm.queryMobile,captchaId:this.uuid};this.$api.user.registerSendCaptchaSms(t).then(function(t){e.readsecond()})},getProtocalCon:function(){var e=this;this.$api.user.getRegisterProtocal().then(function(t){e.protocalCon=t.data.content})},hanldProtocalBack:function(){this.protocalShow=!1,document.title="注册_37度C健康保险网"},showProtocal:function(){this.protocalShow=!0},handleProtocalClose:function(){this.protocalShow=!1},hanleImgCodeClose:function(){this.imgCodeShow=!1},blur:function(e,t){switch(this._onBlur(e),t){case"idNum":this._validIdNum();break;case"mobile":this._validMobile();break}},isMobileBind:function(){var e=this,t={mobile:this.sendForm.queryMobile};this.$api.user.isMobileBind(t).then(function(t){0===t.code&&(e.errorMobile=a["b"].binded)})},isIdNumRegister:function(){var e=this,t={idNum:this.sendForm.idNum};this.$api.user.isIdNumRegister(t).then(function(t){0===t.code&&(e.errorIdNum=a["a"].registered)})},setMobileSendTime:function(){var e=this,t=setInterval(function(){if(e.count<=1)return e.mobileSendShow=!1,e.count=5,void clearInterval(t);e.count--},1e3)},readsecond:function(){var e=this;this.isMessageCode=!0;var t=setInterval(function(){if(e.second<=1)return e.isMessageCode=!1,e.second=60,void clearInterval(t);e.second--,Object(d["c"])("registerSecond",e.second)},1e3)},_isCountDown:function(){var e=Object(d["a"])("registerSecond");e>1&&(this.second=e,this.isMessageCode=!0,this.readsecond())},_validIdNum:function(){if(this.sendForm.idNum){if(!l["a"].idCardRegexs(this.sendForm.idNum).pass)return void(this.errorIdNum=l["a"].idCardRegexs(this.sendForm.idNum).tip);if(!l["a"].years16Regexs(this.sendForm.idNum).pass)return void(this.errorIdNum=l["a"].years16Regexs(this.sendForm.idNum).tip);this.isIdNumRegister()}},_validMobile:function(){if(this.sendForm.queryMobile){if(!l["a"].mobileRegexs(this.sendForm.queryMobile).pass)return void(this.errorMobile=l["a"].mobileRegexs(this.sendForm.queryMobile).tip);this.isMobileBind()}}},Object(m["d"])(["SET_TOKEN","SET_USER_INFO"])),computed:{allValid:function(){return this.sendForm.idNum&&this.sendForm.queryName&&this.sendForm.queryMobile&&this.sendForm.msgCode&&!this.errorIdNum&&!this.errorMobile}},components:{protocal:c["default"],imgCode:n["a"]}},h=p,g=(o("dcd1"),o("17cc")),f=Object(g["a"])(h,s,r,!1,null,"15b580e1",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-53d61d6e.1426eb26.js.map